
## 세미콜론(;)과 자동 삽입 기능

**세미콜론**(**;**)은 문(statement)의 종료를 나타내는 기호입니다. 자바스크립트 엔진은 이 기호를 기준으로 코드를 한 문장씩 순차적으로 실행하므로, 문을 마칠 때는 세미콜론을 붙이는 것이 원칙입니다.

단, 중괄호로 묶은 코드불록 `if`, `for`, `function` 등 중괄호(`{...}`)로 감싸져있는 코드 블록은 그 자체로 문의 종료를 의미하므로(자체 종결성), 뒤에 세미콜론을 붙이지 않습니다.

## 세미콜론 자동 삽입 기능 (ASI)

자바스크립트에서는 세미콜론을 생략할 수 있습니다. 자바스크립트 엔진이 코드를 해석할 때 문의 끝이라고 예측되는 지점에 자동으로 세미콜론을 붙여주는 **세미콜론 자동 삽입 기능**(**ASI, Automatic Semicolon Insertion**)이 있기 때문입니다.

### 주의사항

ASI의 동작 방식을 정확히 이해하지 못하면 개발자의 의도와 다른 결과를 낳을 수 있습니다.
```javascript
function foo () {
  return
    {}
  // ASI의 동작 결과 => return; {};
  // 개발자의 예측 => return {};
}

console.log(foo()); // undefined

var bar = function () {}
(function() {})();
// ASI 동작 결과 => function () {} (function() {})(); 
// 개발자의 예측 => function () {}; (function() {})();
// TypeError: (ijntermediate value)(...) is not a function
```
이러한 문제를 피하기 위해 ESLint와 같은 린터(Linter)를 사용해 세미콜론을 일관되게 붙이는 것이 좋습니다. **TC39**(**자바스크립트 표준 위원회**) **또한 세미콜론 사용을 권장**합니다.


## 표현식인 문 VS 표현식이 아닌 문

문은 크게 '**표현식인 문***과 '**표현식이 아닌 문**'으로 나뉩니다. 둘의 가장 큰 차이는 값으로 평가될 수 있는지 여부입니다.

### 가장 간단한 구별법: 변수에 할당해보기
- **표현식인 문**: 값으로 평가되므로 **변수에 할당할 수 있습니다.**
- **표현식이 아닌 문**: 값으로 평가되지 않으므로 **변수에 할당하면 에러가 발생합니다.**

### 표현식이 아닌 문(Non-Expression Statement)

값으로 평가될 수 없으므로 값처럼 사용할 수 없는 문입니다. 대표적으로 **변수 선언문**(`var x;`)이 있습니다.
```javascript
// 변수 선언문은 값으로 평가되지 않으므로, 변수에 할당할 수 없다.
var foo = var x; // SyntaxError: Unexpected token 'var'
```

### 표현식인 문(Expression Statement)

값으로 평가될 수 있으므로 값처럼 사용할 수 있는 문입니다. 대표적으로 **할당문**(`x = 100;`)이 있습니다. 할당문은 그 자체가 완전한 문이면서, 동시에 값으로 평가되는 표현식입니다.
```javascript
// 할당문은 표현식인 문이므로, 그 결과를 다른 변수에 할당할 수 있다.
// x = 100 이라는 표현식은 값 100으로 평가된다.
var foo = x = 100;

console.log(foo); // 100
```

### Tip

크롬 개발자 도구의 콘솔에서 코드를 실행했을 때:
- **표현식인 문**은 평가된 **값**을 반환합니다. (`x = 100`)을 치면 `100`이 출력됨)
- **표현식이 아닌 문**은 ``undefined`를 반환합니다.(`var x;`를 치면 `undefined`가 출력됨)
